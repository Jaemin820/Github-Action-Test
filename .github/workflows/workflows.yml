name: 'YamlLint'
on:
  push:
    branches: [ main ]
jobs:
  build:
    # name: yamllint
    # runs-on: ubuntu-latest
    # steps:
    #   - uses: actions/checkout@v3
    #   - name: yaml-lint
    #     uses: ibiqlik/action-yamllint@v3
    #     with:
    #       file_or_dir: ./test.yml
    #       config_data: |
    #         extends: default
    #         rules:
    #           new-line-at-end-of-file:
    #             level: warning
    #           trailing-spaces:
    #             level: warning
    #           line-length:
    #             level: warning
      name: 'Promtool'
      runs-on: ${{ matrix.os }}
      strategy:
        matrix:
          os: [ubuntu-latest]
        fail-fast: true
      steps:
        - name: 'Checkout'
          uses: actions/checkout@master
        - name: 'Promtool Check'
          uses: karancode/promtool-action@v0.0.1
          with:
            prom_version: '2.9.2'      
            prom_check_subcommand: 'rules'
            prom_check_files: './test.yml'
            prom_comment: true
        - name: Run python script
          run: |
            echo "test Success"


      